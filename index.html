<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Doran's Lab LoL Jungle Paths</title>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link type="text/css" href="index.css" rel="stylesheet"/>

</head>
<body>
	<div id="junglepath-tool">
		<div id="title-container">
	    <h1>Choose Your Path</h1>
			<p>Click to choose your path through the jungle! As you select your path, our tool will look up high elo junglers who took paths similar to yours and show their locations at the next minute. You can switch to the “win rate heat map” to see how well these junglers performed based on where they decided to go next. If you’d like, check out our video walkthrough of the tool!</p>
	  </div>
	  <div id="menu-graphic-container">
	    <div id="menu-mobile">
	      <div id="options">
	        <div id="options1">
	          <h3 class="options-title">SHOW</h3>
	          <label class="radiobutton-container radio-dots">Individual Positions
	            <input type="checkbox" class="button-dots">
	            <span class="checkmark checked"></span>
	          </label>
	          <label class="radiobutton-container radio-heatmap">Positional Heat Map
	            <input type="checkbox" class="button-heatmap">
	            <span class="checkmark"></span>
	          </label>
	          <label class="radiobutton-container radio-winrate">Win Rate Heat Map
	            <input type="checkbox" class="button-winrate">
	            <span class="checkmark"></span>
	          </label>
	        </div>
	        <div id="options2">
	          <h3 class="options-title">TEAM</h3>
	          <label class="radiobutton-container radio-blue">Blue
	            <input type="checkbox" class="button-blue">
	            <span class="checkmark checked"></span>
	          </label>
	          <label class="radiobutton-container radio-red">Red
	            <input type="checkbox" class="button-red">
	            <span class="checkmark"></span>
	          </label>
	        </div>
	        <div class="heatmap-legend" id="heatmap-legend-mobile">
	          <h3 class="options-title" id="options-title-mobile">HEAT MAP LEGEND</h3>
	          <svg class="svg-heatmapLegend" id="svg-heatmapLegend-mobile"></svg>
	        </div>
	      </div>
	      <p id="info-text-mobile">Each point shows the position of a jungler at 2 minutes in a Diamond+ NA solo queue game. Choose a position to start your path.</p>
	    </div>
	    <div id="menu-desktop">
	      <div id="info-box-desktop">
	        <p id="info-text-desktop">Each point shows the position of a jungler at 2 minutes in a Diamond+ NA solo queue game. <br><br>Choose a position to start your path.</p>
	      </div>
	      <div id="options">
	        <div id="options1">
	          <h3 class="options-title">SHOW</h3>
	          <label class="radiobutton-container radio-dots">Individual Positions
	            <input type="checkbox" class="button-dots">
	            <span class="checkmark checked"></span>
	          </label>
	          <label class="radiobutton-container radio-heatmap">Positional Heat Map
	            <input type="checkbox" class="button-heatmap">
	            <span class="checkmark"></span>
	          </label>
	          <label class="radiobutton-container radio-winrate">Win Rate Heat Map
	            <input type="checkbox" class="button-winrate">
	            <span class="checkmark"></span>
	          </label>
	        </div>
	        <div id="options2">
	          <h3 class="options-title">TEAM</h3>
	          <label class="radiobutton-container radio-blue">Blue
	            <input type="checkbox" class="button-blue">
	            <span class="checkmark checked"></span>
	          </label>
	          <label class="radiobutton-container radio-red">Red
	            <input type="checkbox" class="button-red">
	            <span class="checkmark"></span>
	          </label>
	        </div>
	        <div class="heatmap-legend" id="heatmap-legend-desktop">
	          <h3 class="options-title" id="options-title-desktop">HEAT MAP LEGEND</h3>
	          <svg class="svg-heatmapLegend" id="svg-heatmapLegend-desktop"></svg>
	        </div>
	      </div>
	    </div>
	    <div id="main">
	      <div id="breadcrumbs-back-container">
	        <div id="breadcrumb-container">
	          <button type="button" class="breadcrumb" id="button-min2" value=2></button>
	          <i class="arrow right breadcrumbArrow" id="arrow-1"></i>
	          <button type="button" class="breadcrumb" id="button-min3" value=3></button>
	          <i class="arrow right breadcrumbArrow" id="arrow-2"></i>
	          <button type="button" class="breadcrumb" id="button-min4" value=4></button>
	        </div>
	        <div id="back-container">
	          <button type="button" id="button-back"><i class="arrow left"></i> BACK</button>
	          <button type="button" id="button-reset">RESET</button>
	        </div>
	      </div>
	      <div id="graphic">
	        <div class="img-overlay-container">
	          <div id="heatmap-container"></div>
	          <div id="winrate-blue-container"></div>
	          <div id="winrate-red-container"></div>
	          <img src="SRFull.png"></img>
	          <svg id="graphic-svg"></svg>
	          <div class="spinner" id="loading-spinner">
	            <div class="double-bounce1"></div>
	            <div class="double-bounce2"></div>
	          </div>
						<h3 id="load-text">Loading high elo jungle games...</h3>
	        </div>
	      </div>
	    </div>
	    <div id="preset-winrate">
	      <div id="presets">
	        <h3 class="options-title" id="preset-text">COMMON JUNGLE PATHS</h3>
	        <div id="preset-box-blue-container">
	          <div class="preset-box" id="preset-box-blue1">
	            <p class="preset-name preset-name-blue" id="preset-name-blue">Full Clear</p>
	            <img src="icons/blue-fullclear.png" class="preset-icon"></img>
	          </div>
	          <div class="preset-box" id="preset-box-blue2">
	            <p class="preset-name preset-name-blue" id="preset-name-blue">Vertical</p>
	            <img src="icons/blue-vertical.png" class="preset-icon"></img>
	          </div>
	        </div>
	        <div id="preset-box-red-container">
	          <div class="preset-box" id="preset-box-red1">
	            <p class="preset-name preset-name-red" id="preset-name-red">Full Clear</p>
	            <img src="icons/red-fullclear.png" class="preset-icon"></img>
	          </div>
	          <div class="preset-box" id="preset-box-red2">
	            <p class="preset-name preset-name-red" id="preset-name-red">Vertical</p>
	            <img src="icons/red-vertical.png" class="preset-icon"></img>
	          </div>
	        </div>
	      </div>
	      <div id="winrate">
	        <h3 class="options-title" id="current-winrate-title">CURRENT PATH WIN RATE</h3>
	        <h3 id="current-winrate"></h3>
	      </div>
	    </div>
	  </div>
	  <div id="faq">
	    <h3 id="faq-title">Frequently Asked Questions</h3>
	    <div class="faq-item">
	      <span class="faq-question">Why are there so few junglers at red and blue buff at the start?</span>
	      <p class="faq-answer">The initial path locations displayed are the high elo junglers’ positions at 2:00. With buffs spawning at 1:30, most champions have already cleared their first buff by around 1:45, so, by 2:00, most junglers are currently making progress on or finishing up their second camp.</p>
	    </div>
	    <div class="faq-item">
	      <span class="faq-question">Why did you choose to start paths at 2:00 instead of 1:00?</span>
	      <p class="faq-answer">Because buffs spawn at 1:30, the jungler position at 1:00 isn’t necessarily indicative of a jungler’s starting camp. Because we are working with minute-by-minute positional data, we chose to start with the 2:00 position since that typically reveals the jungler on the second camp of their route.</p>
	    </div>
	    <div class="faq-item">
	      <span class="faq-question">Why are my options continuously narrowed down as I progress through my path? </span>
	      <p class="faq-answer">As you continue to add points to your path, our tool filters the data to only include junglers who went on a path similar to yours. If you add a point to your path that few high elo junglers chose, then a large portion of the data will be filtered out, meaning that the number of similar paths you have becomes too small to be useful.</p>
	    </div>
	    <div class="faq-item">
	      <span class="faq-question">What tech did you use to make this?</span>
	      <p class="faq-answer">Data from the Riot API was stored in a MySQL database, which we then extracted and processed in Python to create a tree data structure in order to store the paths. The tool was coded with a JavaScript library called D3 and uses our data structure to create the position and win rate plots.</p>
	    </div>
	    <div class="faq-item">
	      <span class="faq-question">Why are some of the win rate heat maps all yellow?</span>
	      <p class="faq-answer">Short answer: we included a correction for small sample sizes so that small sample size regions would have their win rates forced closer to 50%.<br><br>Long answer: consider a region of the map that only two junglers passed through at 2:00. If both junglers won their games, then that region’s win rate would be 100% even though we can’t draw meaningful conclusions from two data points. To combat this, we bumped the win rates of all regions to be closer to 50% than they actually were, but made it so this “shrinkage” towards 50% didn’t apply as much to large sample size regions. This way, the colors correspond to more realistic estimates of win rates in each region. For those of you who know a bit about Bayesian statistics, we used a Beta-Binomial model with a Beta prior parametrized by alpha = beta = 25. In essence, this method adjusts low sample size regions to be closer to 50% without drastically impacting the win rates calculated in higher sample size regions.</p>
	    </div>
	    <div class="faq-item">
	      <span class="faq-question">What data did you use for this?</span>
	      <p class="faq-answer">We used the Riot API to gather match timeline data from the North American server on patches 9.1 and 9.2. Since this data is from patches 9.1 and 9.2, the initial scuttle crab timer is at 2:00 rather than 3:15, which was a recent change in patch 9.9. The timeline data from Riot provided us with positional data for all players in the game in one minute intervals, and we filtered this match timeline data to specifically include high elo (diamond or higher) junglers. We chose to filter for high elo data because we felt that there was more to learn from high ranked gameplay, and, also, we felt that users would be more interested in analyzing this data. In total, we have high elo jungle position data for nearly 200,000 paths.</p>
	    </div>
	    <div class="faq-item">
	      <span class="faq-question">How did you define “similar” for determining similar paths?</span>
	      <p class="faq-answer">Each time you select a point for your path, our tool looks up high elo junglers who took paths “similar” enough to yours and displays these junglers’ next-minute locations. In order for a path to be considered similar to your path, each minute position from the high elo jungler’s path must be within a range of 750 units (Caitlyn’s attack range is 650 units) for all corresponding minute positions on your path. Once we have filtered the high elo jungle data to only include paths similar to yours, the positions from the similar path data can then be used to create the plots.</p>
	    </div>
	  </div>
	</div>
  <script src="d3.min.js"></script>
	<script src="heatmap.min.js"></script>
	<script src="index.js"></script>

</body>
</html>
